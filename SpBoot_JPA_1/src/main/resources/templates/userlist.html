<!DOCTYPE html>
<html>
<head th:fragment="head">
<th:block th:include="include/include-head.html"></th:block>
<script>
	$(function() {
		
		$(document).on("click", "#btn_insert", function() {
			document.location.href = "/user/insert"
		})
		
		$(document).on("click", ".u_tr", function() {
			let id = $(this).attr("data-id")
			document.location.href = "/user/update?id=" + id
		})
		
	})
</script> 
<style th:fragment="style">
	table {
		border: 1px solid blue;
		border-collapse: collapse;
		width: 90%;
		margin: 10px auto;
		text-align: center;
	}
	th, td {
		white-space: nowrap;
		border: 1px solid blue;
	}
</style>
</head>
<body th:fragment="listBody">
	<h2>Member List</h2>
	<table>
		<tr>
			<th>이름</th>
			<th>Email</th>
			<th>연락처</th>
			<th>주소</th>
			<th>삭제</th>
		</tr>
		
		<tr th:each="user : ${userList}" th:data-id="${user.id}" >
			<td th:text="${user.username}" class="u_tr" th:data-id="${user.id}" th:attr="asdas=${user.id}">이름</td>
			<td th:text="${user.email}">Email</td>
			<td th:text="${user.phone}">연락처</td>
			<td th:text="${user.address}">주소</td>
			<td th:data-id="${user.id}">
				<a th:href="@{/user/delete(id=${user.id})}">삭제</a>
			</td>
		</tr>
	</table>
	<button id="btn_insert">Member 등록</button>
</body>
</html>